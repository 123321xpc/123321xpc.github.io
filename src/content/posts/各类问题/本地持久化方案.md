---
title: 本地持久化方案
published: 2024-08-10
description: ''
image: ''
tags: [持久化]
category: '各类问题'
draft: false 
---







## Cookie和localstroage都能持久化数据，有什么区别？

### 1. **存储容量**

- **Cookies**：
	- 每个Cookie的大小限制通常是4KB左右。
	- 总的Cookie数量和大小受浏览器限制，一个域名下的Cookie总数大约为50个。
- **LocalStorage**：
	- LocalStorage可以存储的容量一般在5MB到10MB之间（不同浏览器可能有不同的限制）。
	- 因为存储空间更大，适合存储较多或较大的数据。

### 2. **生命周期**

- **Cookies**：
	- 可以设置过期时间。到期后，Cookie会自动失效。
	- **如果没有设置过期时间，Cookie将在浏览器会话结束时（即关闭浏览器）失效**，称为会话Cookie（Session Cookie）。
- **LocalStorage**：
	- 默认没有过期时间，数据将一直保存在浏览器中，直到被主动删除。
	- **即使浏览器关闭或系统重启，数据依然存在。**



## sessionStorage和localStorage有什么不同？

### 1. **数据生命周期**

- **`sessionStorage`**：
	- 数据在页面会话期间可用。页面会话在浏览器标签页或窗口打开期间有效。
	- 一旦关闭浏览器标签页或窗口，数据即被清除。
	- 刷新页面或在同一标签页中导航到其他页面时，数据仍然有效。
- **`localStorage`**：
	- 数据在客户端持久保存，没有过期时间，除非通过代码或用户操作（如清除浏览器缓存）被主动删除。
	- 即使关闭浏览器或计算机重启，数据仍然存在。
	- 不同标签页或窗口之间可以共享同一数据。

### 2. **作用域**

- **`sessionStorage`**：
	- 每个浏览器标签页或窗口都有独立的`sessionStorage`，不能跨标签页或窗口共享数据。
	- 只在同一标签页或窗口中打开的页面之间共享。
- **`localStorage`**：
	- 跨同一域名下的所有标签页和窗口共享数据。
	- 数据可以在同一域名下的不同页面中访问和修改。

### 3. **使用场景**

- **`sessionStorage`**：
	- 适合存储临时数据，例如用户在多步骤表单中的输入，购物车临时状态等。
	- 数据仅需在当前会话期间有效，且不希望数据在标签页关闭后被保留。
- **`localStorage`**：
	- 适合存储长期有效的数据，例如用户设置、主题选择、偏好信息等。

